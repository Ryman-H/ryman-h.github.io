/* ==========================================================================
   SITE STYLES (cleaned)
   - Consolidated gallery / thrust rules
   - Enforced compact caption padding
   - Normalised title font family & sizing
   ========================================================================== */

/* ==== ROOT / TOKENS (single definition) ==== */
:root{
  --accent: #0b6ec6;
  --text:   #111;
  --muted:  #6b7280;
  --bg:     #ffffff;

  /* Layout widths */
  --page-max: 1600px;
  --narrow-max: 1100px;

  /* Spacing */
  --site-pad: 32px;
  --section-vertical-pad: 80px;
  --card-gap: 28px;
  --about-photo-basis: 520px;

  /* Heading font stack for project titles (use same family as site headings) */
  --site-heading-font: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  --site-heading-weight: 600;
  --site-heading-size: 14px;
}

/* ==== GLOBAL RESET & TYPO ==== */
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial;
  color: var(--text);
  background: var(--bg);
  line-height: 1.6;
  -webkit-font-smoothing:antialiased;
}

a{ color:var(--accent); text-decoration:none; }
a:hover{ text-decoration:underline; }

/* ==== GLOBAL CONTAINERS ==== */
.container{
  max-width: var(--page-max);
  margin: 0 auto;
  padding: var(--section-vertical-pad) var(--site-pad);
}

.narrow {
  max-width: var(--narrow-max);
  margin: 0 auto;
  padding: 0 var(--site-pad);
}

/* ==== HEADER / HERO / TIMELINE / ABOUT (unchanged) ==== */
/* ... Keep your existing header/hero/timeline/about CSS as-is ... */
/* (I did not modify these sections; they remain compatible.) */

/* ------------------------------------------------------------------
   PROJECT GALLERY — Consolidated (4-column, consistent sizing)
   ------------------------------------------------------------------ */

/* Grid layout: 4 columns desktop, responsive down to 1 */
.thrust-grid.gallery-grid{
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--card-gap, 22px);
  margin-top: 22px;
  width: 100%;
  align-items: start;
}
@media (max-width:1200px){ .thrust-grid.gallery-grid{ grid-template-columns: repeat(3, 1fr); } }
@media (max-width:900px){  .thrust-grid.gallery-grid{ grid-template-columns: repeat(2, 1fr); } }
@media (max-width:520px){  .thrust-grid.gallery-grid{ grid-template-columns: 1fr; } }

/* Card base */
.thrust-card.figure{
  padding: 0;                     /* remove inner card padding to allow full-width media */
  background: #ffffff;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 8px 22px rgba(15,23,42,0.06);
  display: flex;
  flex-direction: column;
  transition: transform .18s ease, box-shadow .18s ease;
  box-sizing: border-box;
}

/* visual lift on hover */
.thrust-card.figure:hover{
  transform: translateY(-4px);
  box-shadow: 0 16px 36px rgba(15,23,42,0.10);
}

/* clickable wrapper for the media only (semantic) */
.thrust-media-link{
  display: block;
  width: 100%;
  text-decoration: none;
  color: inherit;
}

/* MEDIA: force full width & consistent height
   - use object-fit: cover for dense gallery look (no side gaps)
   - change to 'contain' if you prefer no cropping
*/
.thrust-media{
  display: block;
  width: 100%;
  padding: 0;
  margin: 0;
  background: #f4f6f8;
  aspect-ratio: 3 / 2;      /* change to 4/3 or 16/9 if you want shorter/wider thumbnails */
  max-height: 260px;        /* reduce this number to make media area shorter */
  overflow: hidden;
  box-sizing: border-box;
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
  position: relative;
}

/* IMAGE behavior: fill the media box
   Keep width/height 100% to avoid the "image-box smaller than card" issue.
*/
.thrust-media img,
.thrust-media video{
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;        /* choose 'contain' to avoid cropping */
  object-position: center;
  margin: 0;
  padding: 0;
  transition: transform .35s ease;
  box-sizing: border-box;
}

/* gentle hover zoom */
.thrust-card.figure:hover .thrust-media img{
  transform: scale(1.04);
}

/* adjust media height for smaller viewports */
@media (max-width:900px){
  .thrust-media{ max-height: 220px; }
}

/* CAPTION / TITLE: compact padding & normalized type */
.thrust-body{
  display: block;
  padding: 6px 8px;         /* compact padding applied directly here */
  background: #ffffff;
  border-top: 1px solid #eef1f4;
  box-sizing: border-box;
  min-height: 0;
  height: auto;
}

/* Title typography — use site heading stack and match weight/size */
.thrust-body h3,
.thrust-body strong{
  margin: 0;
  font-family: var(--site-heading-font);
  font-weight: var(--site-heading-weight);
  font-size: var(--site-heading-size);
  line-height: 1.2;
  color: #111;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  display: -webkit-box;
  -webkit-line-clamp: 2;   /* clamp to max 2 lines */
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  word-break: break-word;
}

/* Accessibility focus for media link */
.thrust-media-link:focus-visible{
  outline: 3px solid var(--accent);
  outline-offset: 4px;
  border-radius: 8px;
}

/* Safety: ensure consistent box-sizing inside cards */
.thrust-card.figure *,
.thrust-card.figure *::before,
.thrust-card.figure *::after{ box-sizing: inherit; }

/* ------------------------------------------------------------------
   RESEARCH THRUSTS (3 boxes) — keep special appearance
   (these selectors intentionally target different markup under #research)
   ------------------------------------------------------------------ */
#research{
  padding-top:12px;
  padding-bottom:48px;
}

#research .thrust-grid{
  display:grid;
  grid-template-columns:repeat(3, 1fr);
  gap: var(--card-gap);
  width:100%;
  align-items:stretch;
}

/* research cards: equal-height */
#research .thrust-card{
  background:#fff;
  border-radius:10px;
  overflow:hidden;
  box-shadow:0 8px 22px rgba(15,23,42,0.06);
  display:flex;
  flex-direction:column;
  transition: transform .22s ease, box-shadow .22s ease;
  min-height:360px;
}

/* research media smaller / centered image */
#research .thrust-media{
  display:flex;
  align-items:center;
  justify-content:center;
  background:#f4f6f8;
  overflow:hidden;
  aspect-ratio:4/3;
  max-height:240px;
}

/* for research, images are contained and smaller than full width */
#research .thrust-media img,
#research .thrust-media video{
  width:auto;
  max-width:85%;
  max-height:100%;
  object-fit:contain;
  object-position:center;
  display:block;
}

/* research body: keep original layout */
#research .thrust-body{
  padding:20px;
  display:flex;
  flex-direction:column;
  gap:8px;
  flex:1 1 auto;
  align-items:center;
}

#research .thrust-body h3{
  margin:16px 0 6px;
  font-size:18px;
  color:var(--text);
  text-align:center;
  width:100%;
}

#research .thrust-body p{
  margin:0;
  color:#333;
  line-height:1.55;
  font-size:15px;
  text-align:left;
  max-width: 560px;
  width:100%;
  box-sizing:border-box;
  margin-left:auto;
  margin-right:auto;
}

/* ------------------------------------------------------------------
   PROJECT PAGES, THRUST FOOTER, OTHER SECTIONS
   (unchanged; included to keep site consistent)
   ------------------------------------------------------------------ */

/* Keep your existing project-page rules and other site rules exactly as before.
   (I trimmed duplicates and kept the sections that mattered for the gallery.) */

/* Responsive overrides (keep them at end so they take precedence) */
@media (max-width:1100px){
  .thrust-grid{ grid-template-columns:repeat(2, 1fr); }
  .thrust-media{ max-height:220px; }
  .about-wrap { gap:24px; }
  .about-photo { flex:0 0 420px; }
  .about-photo img { width:420px; }
}

@media (max-width:700px){
  .thrust-grid{ grid-template-columns:1fr; }
  .thrust-media{ aspect-ratio:4/3; max-height:200px; }
  .thrust-media img{ max-width:90%; }
  .thrust-body p{ max-width: 92%; }
  .container{ padding:40px 12px; }
  .hero-title h1{ font-size:28px; }
  .main-nav{ display:none; }
}

/* Optional debug outlines (comment out for production) */
/*
.thrust-media.debug { outline: 2px dashed rgba(0,128,255,0.25); background: rgba(0,128,255,0.02); }
.thrust-card.figure.debug { outline: 2px dashed rgba(0,200,0,0.12); }
*/
